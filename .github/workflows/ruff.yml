name: Debug Tests

on: [push, pull_request]

jobs:
  debug:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    
    - name: Setup Python
      uses: actions/setup-python@v4
      with: 
        python-version: '3.11'
        
    - name: Install pytest
      run: pip install pytest
      
    - name: Comprehensive debug
      run: |
        echo "=== STEP 1: File structure ==="
        find . -name "*.py" | grep -v __pycache__ | sort
        
        echo "=== STEP 2: Create guaranteed test ==="
        mkdir -p tests
        cat > tests/test_simple.py << 'EOF'
def test_one_plus_one():
    assert 1 + 1 == 2
EOF
        
        echo "=== STEP 3: Test discovery ==="
        python -m pytest --collect-only -v
        
        echo "=== STEP 4: Run actual tests ==="
        python -m pytest tests/ -v
